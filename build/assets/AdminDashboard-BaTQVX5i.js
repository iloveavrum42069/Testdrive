import{c as w,r as p,j as e,C as $,f as B,a as z,b as V,d as O,g as P,P as R,X as q,s as C,t as S,e as L,U as A,h as M,M as U,i as G,k as I,l as W,m as H}from"./index-DCWw9xRc.js";/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M22 8c0-2.3-.8-4.3-2-6",key:"5bb3ad"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}],["path",{d:"M4 2C2.8 3.7 2 5.7 2 8",key:"tap9e0"}]],_=w("bell-ring",J);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]],E=w("download",X);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]],K=w("grid-3x3",Y);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q=[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]],Z=w("list",Q);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ee=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],se=w("log-out",ee);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const te=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],ae=w("search",te);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const le=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],ie=w("settings",le);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const re=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],T=w("shield-check",re);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ne=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],F=w("trash-2",ne);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ce=[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]],de=w("trending-up",ce);function oe({registrations:s,onSelectBooking:o}){const[h,n]=p.useState([]),[x,i]=p.useState([]),[c,u]=p.useState([]),[t,m]=p.useState(""),[a,g]=p.useState(null);p.useEffect(()=>{(async()=>{const b=await P();n(b.timeSlots),i(b.cars.map(j=>j.name)),u(b.eventDates),b.eventDates.length>0&&m(b.eventDates[0])})()},[]);const y=(l,b)=>s.find(j=>j.car?.name===l&&j.timeSlot===b&&j.date===t),v=()=>s.filter(l=>l.date===t),k=l=>s.filter(b=>b.car?.name===l&&b.date===t);return e.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-3 sm:gap-4 bg-blue-50 border-2 border-blue-200 rounded-xl p-3 sm:p-4",children:[e.jsx($,{className:"w-5 h-5 sm:w-6 sm:h-6 text-blue-600 flex-shrink-0"}),e.jsx("div",{className:"flex gap-2 sm:gap-3 flex-wrap",children:c.map(l=>e.jsxs("button",{onClick:()=>m(l),className:`px-3 sm:px-6 py-2 rounded-lg transition-all text-sm ${t===l?"bg-blue-600 text-white":"bg-white text-slate-700 hover:bg-blue-100"}`,children:[e.jsx("span",{className:"hidden sm:inline",children:B(l)}),e.jsx("span",{className:"sm:hidden",children:z(l)})]},l))})]}),e.jsxs("div",{className:"block lg:hidden space-y-4",children:[e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-4",children:[e.jsx("label",{className:"text-slate-700 text-sm mb-2 block",children:"Filter by Vehicle"}),e.jsxs("select",{value:a||"",onChange:l=>g(l.target.value||null),className:"w-full px-4 py-2 border-2 border-slate-300 rounded-lg focus:border-blue-500 focus:outline-none",children:[e.jsx("option",{value:"",children:"All Vehicles"}),x.map(l=>e.jsx("option",{value:l,children:l},l))]})]}),e.jsx("div",{className:"space-y-3",children:(a?k(a):v()).length===0?e.jsx("div",{className:"bg-white rounded-xl shadow-lg p-6 text-center",children:e.jsx("p",{className:"text-slate-500",children:a?`No bookings for ${a} on this date`:"No bookings on this date"})}):(a?k(a):v()).sort((l,b)=>{const j=h.indexOf(l.timeSlot||""),N=h.indexOf(b.timeSlot||"");return j-N}).map(l=>e.jsxs("div",{onClick:()=>o(l),className:`rounded-xl shadow-lg p-4 border-2 hover:border-blue-300 transition-colors cursor-pointer ${l.completed?"border-green-300 bg-green-50":"border-slate-200 bg-white"}`,children:[e.jsxs("div",{className:"flex items-start justify-between gap-3 mb-3",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("p",{className:"text-slate-900 font-medium truncate",children:[l.firstName," ",l.lastName]}),e.jsx("p",{className:"text-slate-600 text-sm truncate",children:l.email})]}),e.jsx("div",{className:`px-3 py-1 rounded-full text-xs flex-shrink-0 ${l.completed?"bg-green-600 text-white":"bg-blue-100 text-blue-700"}`,children:l.completed?"Completed":"Booked"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2 text-slate-600 text-sm",children:[e.jsx(V,{className:"w-4 h-4 flex-shrink-0"}),e.jsx("span",{className:"truncate",children:l.car?.name})]}),e.jsxs("div",{className:"flex items-center gap-2 text-slate-600 text-sm",children:[e.jsx(O,{className:"w-4 h-4 flex-shrink-0"}),e.jsx("span",{children:l.timeSlot})]})]})]},l.registrationId))})]}),e.jsx("div",{className:"hidden lg:block bg-white rounded-xl shadow-lg overflow-x-auto",children:e.jsxs("div",{className:"min-w-max",children:[e.jsxs("div",{className:"grid border-b-2 border-slate-200",style:{gridTemplateColumns:`200px repeat(${h.length}, 80px)`},children:[e.jsx("div",{className:"sticky left-0 bg-slate-100 p-3 border-r-2 border-slate-200",children:e.jsx("span",{className:"text-slate-700",children:"Vehicle"})}),h.map(l=>e.jsx("div",{className:"bg-slate-100 p-2 text-center border-r border-slate-200",children:e.jsx("span",{className:"text-slate-700 text-xs",children:l})},l))]}),x.map((l,b)=>e.jsxs("div",{className:`grid border-b border-slate-200 ${b%2===0?"bg-white":"bg-slate-50"}`,style:{gridTemplateColumns:`200px repeat(${h.length}, 80px)`},children:[e.jsx("div",{className:"sticky left-0 bg-inherit p-3 border-r-2 border-slate-200",children:e.jsx("p",{className:"text-slate-900 text-sm",children:l})}),h.map(j=>{const N=y(l,j);return e.jsx("div",{className:"border-r border-slate-200 p-1 min-h-[60px] flex items-center justify-center",children:N?e.jsxs("button",{onClick:()=>o(N),className:`w-full h-full rounded text-xs p-1 transition-colors flex flex-col items-center justify-center ${N.completed?"bg-green-600 hover:bg-green-700 text-white":"bg-blue-600 hover:bg-blue-700 text-white"}`,title:`${N.firstName} ${N.lastName}${N.completed?" (Completed)":""}`,children:[e.jsx("span",{className:"truncate max-w-full",children:N.firstName}),e.jsx("span",{className:"truncate max-w-full",children:N.lastName})]}):e.jsx("div",{className:"w-full h-full flex items-center justify-center text-slate-300",children:e.jsx("span",{className:"text-xs",children:"-"})})},j)})]},l))]})})]})}function me({onClose:s,onSave:o}){const[h,n]=p.useState([]),[x,i]=p.useState([]),[c,u]=p.useState([]);p.useEffect(()=>{(async()=>{const d=await P();n(d.cars),i(d.eventDates),u(d.timeSlots)})()},[]);const[t,m]=p.useState({firstName:"",lastName:"",email:"",phone:"",carId:"",date:"",timeSlot:"",agreedToTOS:!0,optInMarketing:!1}),[a,g]=p.useState({}),[y,v]=p.useState(new Set);p.useEffect(()=>{(async()=>{if(t.carId&&t.date){const d=await C.getSlotStatusBatch(t.carId,t.date,"admin"),f=new Set([...d.bookedSlots,...d.heldSlots]);v(f)}})()},[t.carId,t.date]);const k=r=>y.has(r),l=r=>{m({...t,[r.target.name]:r.target.value}),a[r.target.name]&&g({...a,[r.target.name]:""})},b=r=>{m({...t,[r.target.name]:r.target.checked})},j=()=>{const r={};return t.firstName.trim()||(r.firstName="First name is required"),t.lastName.trim()||(r.lastName="Last name is required"),t.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t.email)||(r.email="Invalid email format"):r.email="Email is required",t.phone.trim()||(r.phone="Phone is required"),t.carId||(r.carId="Please select a vehicle"),t.date||(r.date="Please select a date"),t.timeSlot?k(t.timeSlot)&&(r.timeSlot="This time slot is already booked"):r.timeSlot="Please select a time slot",t.agreedToTOS||(r.agreedToTOS="You must agree to the terms of service"),g(r),Object.keys(r).length===0},N=r=>{if(r.preventDefault(),!j())return;const d=h.find(D=>D.id===t.carId),f={firstName:t.firstName,lastName:t.lastName,email:t.email,phone:t.phone,car:d,date:t.date,timeSlot:t.timeSlot,signature:"Admin Added",registrationId:`TD${Date.now()}`,registeredAt:new Date().toISOString(),agreedToTOS:t.agreedToTOS,communicationOptIn:t.optInMarketing};o(f),s()};return e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-3xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"sticky top-0 bg-white border-b border-slate-200 px-6 py-4 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center",children:e.jsx(R,{className:"w-5 h-5 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-slate-900",children:"Add Test Drive Registration"}),e.jsx("p",{className:"text-slate-600 text-sm",children:"Manually add a new registration"})]})]}),e.jsx("button",{onClick:s,className:"w-8 h-8 flex items-center justify-center rounded-lg hover:bg-slate-100 transition-colors",children:e.jsx(q,{className:"w-5 h-5 text-slate-600"})})]}),e.jsxs("form",{onSubmit:N,className:"p-6 space-y-6",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-slate-900 mb-4",children:"Personal Information"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-slate-700 mb-2",children:"First Name *"}),e.jsx("input",{type:"text",name:"firstName",value:t.firstName,onChange:l,className:`w-full px-4 py-3 border-2 rounded-lg focus:outline-none transition-colors ${a.firstName?"border-red-500":"border-slate-200 focus:border-blue-500"}`}),a.firstName&&e.jsx("p",{className:"text-red-600 text-sm mt-1",children:a.firstName})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-slate-700 mb-2",children:"Last Name *"}),e.jsx("input",{type:"text",name:"lastName",value:t.lastName,onChange:l,className:`w-full px-4 py-3 border-2 rounded-lg focus:outline-none transition-colors ${a.lastName?"border-red-500":"border-slate-200 focus:border-blue-500"}`}),a.lastName&&e.jsx("p",{className:"text-red-600 text-sm mt-1",children:a.lastName})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-slate-700 mb-2",children:"Email *"}),e.jsx("input",{type:"email",name:"email",value:t.email,onChange:l,className:`w-full px-4 py-3 border-2 rounded-lg focus:outline-none transition-colors ${a.email?"border-red-500":"border-slate-200 focus:border-blue-500"}`}),a.email&&e.jsx("p",{className:"text-red-600 text-sm mt-1",children:a.email})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-slate-700 mb-2",children:"Phone *"}),e.jsx("input",{type:"tel",name:"phone",value:t.phone,onChange:l,placeholder:"(555) 123-4567",className:`w-full px-4 py-3 border-2 rounded-lg focus:outline-none transition-colors ${a.phone?"border-red-500":"border-slate-200 focus:border-blue-500"}`}),a.phone&&e.jsx("p",{className:"text-red-600 text-sm mt-1",children:a.phone})]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-slate-900 mb-4",children:"Vehicle Selection"}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-slate-700 mb-2",children:"Select Vehicle *"}),e.jsxs("select",{name:"carId",value:t.carId,onChange:l,className:`w-full px-4 py-3 border-2 rounded-lg focus:outline-none transition-colors ${a.carId?"border-red-500":"border-slate-200 focus:border-blue-500"}`,children:[e.jsx("option",{value:"",children:"Choose a vehicle..."}),h.map(r=>e.jsxs("option",{value:r.id,children:[r.name," - ",r.model]},r.id))]}),a.carId&&e.jsx("p",{className:"text-red-600 text-sm mt-1",children:a.carId})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-slate-900 mb-4",children:"Schedule"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-slate-700 mb-2",children:"Date *"}),e.jsxs("select",{name:"date",value:t.date,onChange:l,className:`w-full px-4 py-3 border-2 rounded-lg focus:outline-none transition-colors ${a.date?"border-red-500":"border-slate-200 focus:border-blue-500"}`,children:[e.jsx("option",{value:"",children:"Select date..."}),x.map(r=>e.jsx("option",{value:r,children:new Date(r).toLocaleDateString()},r))]}),a.date&&e.jsx("p",{className:"text-red-600 text-sm mt-1",children:a.date})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-slate-700 mb-2",children:"Time Slot *"}),e.jsxs("select",{name:"timeSlot",value:t.timeSlot,onChange:l,className:`w-full px-4 py-3 border-2 rounded-lg focus:outline-none transition-colors ${a.timeSlot?"border-red-500":"border-slate-200 focus:border-blue-500"}`,disabled:!t.carId||!t.date,children:[e.jsx("option",{value:"",children:!t.carId||!t.date?"Select vehicle and date first...":"Select time..."}),c.map(r=>{const d=k(r);return e.jsxs("option",{value:r,disabled:d,children:[r," ",d?"(Booked)":""]},r)})]}),a.timeSlot&&e.jsx("p",{className:"text-red-600 text-sm mt-1",children:a.timeSlot}),t.carId&&t.date&&y.size>0&&e.jsxs("p",{className:"text-amber-600 text-sm mt-1",children:[y.size," slot(s) already booked for this vehicle/date"]})]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-slate-900 mb-4",children:"Terms of Service and Marketing Opt-In"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-slate-700 mb-2",children:"Agree to Terms of Service *"}),e.jsx("input",{type:"checkbox",name:"agreedToTOS",checked:t.agreedToTOS,onChange:b,className:`w-4 h-4 border-2 rounded-lg focus:outline-none transition-colors ${a.agreedToTOS?"border-red-500":"border-slate-200 focus:border-blue-500"}`}),a.agreedToTOS&&e.jsx("p",{className:"text-red-600 text-sm mt-1",children:a.agreedToTOS})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-slate-700 mb-2",children:"Opt-In to Marketing"}),e.jsx("input",{type:"checkbox",name:"optInMarketing",checked:t.optInMarketing,onChange:b,className:`w-4 h-4 border-2 rounded-lg focus:outline-none transition-colors ${a.agreedToTOS?"border-red-500":"border-slate-200 focus:border-blue-500"}`})]})]})]}),e.jsxs("div",{className:"flex gap-3 pt-4 border-t border-slate-200",children:[e.jsx("button",{type:"button",onClick:s,className:"flex-1 px-6 py-3 border-2 border-slate-300 text-slate-700 rounded-lg hover:bg-slate-50 transition-colors",children:"Cancel"}),e.jsx("button",{type:"submit",className:"flex-1 px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Add Registration"})]})]})]})})}function xe(){const[s,o]=p.useState([]),[h,n]=p.useState(!0);p.useEffect(()=>{x()},[]);const x=async()=>{n(!0);try{const m=await C.getRegistrations();o([...m].reverse())}catch(m){console.error("Failed to load registrations:",m),S.error("Failed to load registrations")}finally{n(!1)}};return{registrations:s,isLoading:h,loadRegistrations:x,deleteRegistration:async m=>{if(confirm("Are you sure you want to delete this registration?")){if(await C.deleteRegistration(m))return await x(),!0;S.error("Failed to delete registration")}return!1},toggleComplete:async m=>{const a=s.find(v=>v.registrationId===m);if(!a)return;const g=!a.completed;if(await C.updateRegistration(m,{completed:g}))return await x(),S.success(g?"Test drive marked as complete!":"Test drive marked as incomplete"),{...a,completed:g};S.error("Failed to update status")},addRegistration:async m=>{await C.addRegistration(m)?(await x(),S.success("Registration added successfully!")):S.error("Failed to add registration")},verifyLicense:async(m,a)=>{const g={licenseVerified:!0,licenseVerifiedBy:a,licenseVerifiedAt:new Date().toISOString()};if(await C.updateRegistration(m,g)){await x(),S.success("Driver's license verified successfully!");const v=s.find(k=>k.registrationId===m);return v?{...v,...g}:void 0}else S.error("Failed to verify license")}}}const he=s=>{const o=["ID","Date","Time","Name","Email","Phone","Car","Registered At"],h=s.map(u=>[u.registrationId,u.date,u.timeSlot,`${u.firstName} ${u.lastName}`,u.email,u.phone,`${u.car?.name} ${u.car?.model}`,new Date(u.registeredAt||"").toLocaleString()]),n=[o,...h].map(u=>u.join(",")).join(`
`),x=new Blob([n],{type:"text/csv"}),i=window.URL.createObjectURL(x),c=document.createElement("a");c.href=i,c.download=`test-drive-registrations-${new Date().toISOString().split("T")[0]}.csv`,c.click()};function ue({registrations:s}){const o=s.filter(c=>c.communicationOptIn).length,h=s.length>0?Math.round(o/s.length*100):0,n=[...new Set(s.map(c=>c.date))].filter(Boolean),x=c=>s.filter(u=>u.date===c&&u.communicationOptIn).length,i=c=>s.filter(u=>u.date===c).length;return e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsx("div",{className:"bg-white rounded-xl shadow-lg p-4 border-2 border-blue-200",children:e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:e.jsx($,{className:"w-5 h-5 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-slate-600 text-sm",children:"Total Registrations"}),e.jsx("p",{className:"text-slate-900 text-2xl font-semibold",children:s.length})]})]})}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-4 border-2 border-green-200",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:e.jsx(_,{className:"w-5 h-5 text-green-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-slate-600 text-sm",children:"Total Opt-Ins"}),e.jsx("p",{className:"text-slate-900 text-2xl font-semibold",children:o})]})]}),e.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[e.jsx("div",{className:"flex-1 bg-slate-200 rounded-full h-2 overflow-hidden",children:e.jsx("div",{className:"bg-green-600 h-full transition-all duration-500",style:{width:`${h}%`}})}),e.jsxs("span",{className:"text-slate-600 text-xs font-medium",children:[h,"%"]})]})]}),n.slice(0,2).map(c=>e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-4 border-2 border-purple-200",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("div",{className:"p-2 bg-purple-100 rounded-lg",children:e.jsx(de,{className:"w-5 h-5 text-purple-600"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("p",{className:"text-slate-600 text-sm truncate",children:[L(c)," Opt-Ins"]}),e.jsxs("p",{className:"text-slate-900 text-2xl font-semibold",children:[x(c||"")," / ",i(c||"")]})]})]}),e.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[e.jsx("div",{className:"flex-1 bg-slate-200 rounded-full h-2 overflow-hidden",children:e.jsx("div",{className:"bg-purple-600 h-full transition-all duration-500",style:{width:`${i(c||"")>0?Math.round(x(c||"")/i(c||"")*100):0}%`}})}),e.jsxs("span",{className:"text-slate-600 text-xs font-medium",children:[i(c||"")>0?Math.round(x(c||"")/i(c||"")*100):0,"%"]})]})]},c))]})}function pe({registrations:s,onSelect:o,onDelete:h}){return s.length===0?e.jsx("div",{className:"text-center py-12",children:e.jsx("p",{className:"text-slate-500",children:"No registrations found."})}):e.jsx("div",{className:"space-y-4",children:s.map(n=>e.jsxs("div",{className:`border-2 rounded-lg p-4 hover:border-blue-300 transition-colors cursor-pointer ${n.completed?"border-green-300 bg-green-50":"border-slate-200"}`,onClick:()=>o(n),children:[e.jsxs("div",{className:"flex items-start justify-between gap-4",children:[e.jsxs("div",{className:"flex-1 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 text-slate-600 text-sm mb-1 flex-wrap",children:[e.jsx(A,{className:"w-4 h-4"}),e.jsx("span",{children:"Customer"}),e.jsxs("div",{className:"ml-auto flex items-center gap-2",children:[!n.licenseVerified&&e.jsxs("span",{className:"flex items-center gap-1 px-2 py-0.5 bg-amber-100 text-amber-700 text-xs rounded-full border border-amber-300",children:[e.jsx(T,{className:"w-3 h-3"}),"License Unverified"]}),n.completed&&e.jsx("span",{className:"px-2 py-0.5 bg-green-600 text-white text-xs rounded-full",children:"Completed"})]})]}),e.jsxs("p",{className:"text-slate-900",children:[n.firstName," ",n.lastName]}),e.jsx("p",{className:"text-slate-600 text-sm",children:n.email})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 text-slate-600 text-sm mb-1",children:[e.jsx(V,{className:"w-4 h-4"}),e.jsx("span",{children:"Vehicle"})]}),e.jsx("p",{className:"text-slate-900",children:n.car?.name}),e.jsx("p",{className:"text-slate-600 text-sm",children:n.car?.model})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 text-slate-600 text-sm mb-1",children:[e.jsx($,{className:"w-4 h-4"}),e.jsx("span",{children:"Schedule"})]}),e.jsx("p",{className:"text-slate-900",children:L(n.date)}),e.jsx("p",{className:"text-slate-600 text-sm",children:n.timeSlot})]})]}),e.jsx("button",{onClick:x=>{x.stopPropagation(),h(n.registrationId)},className:"text-red-600 hover:text-red-700 p-2 hover:bg-red-50 rounded-lg transition-colors",children:e.jsx(F,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"mt-3 pt-3 border-t border-slate-200 flex items-center justify-between",children:[e.jsxs("p",{className:"text-slate-500 text-xs",children:["ID: ",n.registrationId]}),e.jsxs("p",{className:"text-slate-500 text-xs",children:["Registered: ",M(n.registeredAt)]})]})]},n.registrationId))})}function be({registration:s,onClose:o,onToggleComplete:h,onDelete:n,onVerifyLicense:x}){return e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",onClick:o,children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-3xl w-full max-h-[90vh] overflow-y-auto",onClick:i=>i.stopPropagation(),children:[e.jsxs("div",{className:"sticky top-0 bg-white border-b border-slate-200 p-4 sm:p-6 flex items-center justify-between z-10",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h3",{className:"text-slate-900 mb-1 truncate",children:"Registration Details"}),e.jsx("p",{className:"text-slate-600 text-xs sm:text-sm truncate",children:s.registrationId})]}),e.jsx("button",{onClick:o,className:"text-slate-500 hover:text-slate-700 text-2xl leading-none ml-4 flex-shrink-0",children:"×"})]}),e.jsxs("div",{className:"p-4 sm:p-6 space-y-4 sm:space-y-6",children:[e.jsxs("div",{className:"bg-blue-50 border-2 border-blue-200 rounded-xl p-4 sm:p-6",children:[e.jsxs("div",{className:"flex items-start gap-3 sm:gap-4 mb-4",children:[e.jsx(V,{className:"w-5 h-5 sm:w-6 sm:h-6 text-blue-600 mt-1 flex-shrink-0"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h4",{className:"text-slate-900 mb-1",children:"Vehicle Information"}),e.jsxs("p",{className:"text-slate-700",children:[s.car?.name," ",s.car?.model]}),e.jsxs("p",{className:"text-slate-600 text-sm",children:[s.car?.year," • ",s.car?.type]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx($,{className:"w-5 h-5 text-blue-600 mt-1 flex-shrink-0"}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("p",{className:"text-slate-700 text-sm",children:"Date"}),e.jsx("p",{className:"text-slate-900",children:L(s.date)})]})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(O,{className:"w-5 h-5 text-blue-600 mt-1 flex-shrink-0"}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("p",{className:"text-slate-700 text-sm",children:"Time"}),e.jsx("p",{className:"text-slate-900",children:s.timeSlot})]})]})]})]}),e.jsxs("div",{className:"bg-slate-50 border-2 border-slate-200 rounded-xl p-4 sm:p-6",children:[e.jsx("h4",{className:"text-slate-900 mb-4",children:"Customer Information"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(A,{className:"w-5 h-5 text-slate-600 mt-1 flex-shrink-0"}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("p",{className:"text-slate-700 text-sm",children:"Name"}),e.jsxs("p",{className:"text-slate-900 break-words",children:[s.firstName," ",s.lastName]})]})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(U,{className:"w-5 h-5 text-slate-600 mt-1 flex-shrink-0"}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("p",{className:"text-slate-700 text-sm",children:"Email"}),e.jsx("p",{className:"text-slate-900 break-words text-sm sm:text-base",children:s.email})]})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(G,{className:"w-5 h-5 text-slate-600 mt-1 flex-shrink-0"}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("p",{className:"text-slate-700 text-sm",children:"Phone"}),e.jsx("p",{className:"text-slate-900",children:s.phone})]})]}),s.hasValidLicense&&e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(I,{className:"w-5 h-5 text-green-600 mt-1 flex-shrink-0"}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("p",{className:"text-slate-700 text-sm",children:"License Status"}),e.jsx("p",{className:"text-slate-900 text-sm sm:text-base",children:"Valid Canadian License (G2+) Confirmed"})]})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(_,{className:`w-5 h-5 mt-1 flex-shrink-0 ${s.communicationOptIn?"text-green-600":"text-slate-400"}`}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("p",{className:"text-slate-700 text-sm",children:"Communication Preferences"}),e.jsx("p",{className:`text-sm sm:text-base ${s.communicationOptIn?"text-green-700 font-medium":"text-slate-500"}`,children:s.communicationOptIn?"✓ Opted in to receive communications":"Not opted in"})]})]})]})]}),e.jsx("div",{className:`border-2 rounded-xl p-4 sm:p-6 ${s.licenseVerified?"bg-green-50 border-green-300":"bg-amber-50 border-amber-300"}`,children:e.jsxs("div",{className:"flex items-start gap-3 mb-4",children:[e.jsx(T,{className:`w-5 h-5 mt-1 flex-shrink-0 ${s.licenseVerified?"text-green-600":"text-amber-600"}`}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h4",{className:"text-slate-900 mb-1",children:"Driver's License Verification"}),s.licenseVerified?e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(I,{className:"w-4 h-4 text-green-600 flex-shrink-0"}),e.jsx("p",{className:"text-green-700 font-medium text-sm sm:text-base",children:"License Verified On-Site"})]}),e.jsxs("div",{className:"text-slate-700 text-sm space-y-1",children:[e.jsxs("p",{children:["Verified by: ",e.jsx("span",{className:"font-semibold",children:s.licenseVerifiedBy})]}),e.jsxs("p",{children:["Verified at: ",e.jsx("span",{className:"font-medium",children:M(s.licenseVerifiedAt)})]})]})]}):e.jsxs("div",{className:"space-y-3",children:[e.jsx("p",{className:"text-amber-800 text-sm",children:"Customer has attested to having a valid license. Staff verification required before test drive."}),e.jsxs("button",{onClick:x,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-sm",children:[e.jsx(T,{className:"w-4 h-4"}),"Verify License Now"]})]})]})]})}),s.additionalPassengers&&s.additionalPassengers.length>0&&e.jsxs("div",{className:"bg-slate-50 border-2 border-slate-200 rounded-xl p-4 sm:p-6",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx(W,{className:"w-5 h-5 text-slate-600 flex-shrink-0"}),e.jsxs("h4",{className:"text-slate-900",children:["Additional Passengers (",s.additionalPassengers.length,")"]})]}),e.jsx("div",{className:"space-y-2",children:s.additionalPassengers.map((i,c)=>e.jsxs("div",{className:"flex items-center gap-3 p-3 bg-white rounded-lg",children:[e.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center text-blue-600 flex-shrink-0",children:c+1}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-slate-900 truncate",children:i.name}),e.jsx("p",{className:"text-slate-600 text-xs",children:i.isOver18?"Adult (18+)":"Minor - Parent/Guardian signature required"})]}),e.jsx(I,{className:"w-4 h-4 text-green-600 flex-shrink-0"})]},c))})]}),s.signature&&e.jsxs("div",{className:"bg-blue-50 border-2 border-blue-200 rounded-xl p-4 sm:p-6",children:[e.jsx("h4",{className:"text-slate-900 mb-4",children:"Primary Driver - Liability Waiver Signature"}),e.jsx("div",{className:"bg-white border-2 border-slate-300 rounded-lg p-4",children:e.jsx("img",{src:s.signature,alt:"Driver Signature",className:"max-w-full h-24 sm:h-32 object-contain mx-auto"})}),e.jsxs("p",{className:"text-slate-600 text-sm mt-2 break-words",children:[s.firstName," ",s.lastName]})]}),s.additionalPassengers&&s.additionalPassengers.some(i=>i.signature)&&e.jsxs("div",{className:"bg-slate-50 border-2 border-slate-200 rounded-xl p-4 sm:p-6",children:[e.jsx("h4",{className:"text-slate-900 mb-4",children:"Passenger Liability Waiver Signatures"}),e.jsx("div",{className:"space-y-4 sm:space-y-6",children:s.additionalPassengers.map((i,c)=>i.signature&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:`border-2 rounded-lg p-3 sm:p-4 ${i.isOver18?"border-slate-300 bg-white":"border-amber-300 bg-amber-50"}`,children:[e.jsxs("div",{className:"flex items-start justify-between gap-2 mb-3",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-slate-900 break-words",children:i.name}),e.jsx("p",{className:"text-slate-600 text-xs",children:i.isOver18?"Adult Passenger":`Minor - Signed by ${i.guardianRelationship||"guardian"}`}),!i.isOver18&&i.guardianName&&e.jsxs("p",{className:"text-slate-600 text-xs mt-1 break-words",children:[i.guardianRelationship==="parent"?"Parent":"Guardian"," Name: ",e.jsx("span",{className:"font-medium",children:i.guardianName})]})]}),!i.isOver18&&e.jsx("span",{className:"text-xs bg-amber-200 text-amber-900 px-2 py-1 rounded-full flex-shrink-0",children:"Minor"})]}),e.jsx("div",{className:"bg-white border-2 border-slate-300 rounded-lg p-3 sm:p-4",children:e.jsx("img",{src:i.signature,alt:`${i.name} Waiver Signature`,className:"max-w-full h-20 sm:h-28 object-contain mx-auto"})})]}),!i.isOver18&&i.parentalConsentSignature&&e.jsxs("div",{className:"border-2 border-amber-300 bg-amber-50 rounded-lg p-3 sm:p-4 ml-2 sm:ml-4",children:[e.jsxs("div",{className:"flex items-start gap-2 mb-3",children:[e.jsx(I,{className:"w-5 h-5 text-amber-600 flex-shrink-0 mt-0.5"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-slate-900 text-sm sm:text-base",children:"Parental Consent Form Signature"}),e.jsxs("p",{className:"text-slate-600 text-xs",children:["Signed by ",i.guardianRelationship||"guardian"]})]})]}),e.jsx("div",{className:"bg-white border-2 border-amber-300 rounded-lg p-3 sm:p-4",children:e.jsx("img",{src:i.parentalConsentSignature,alt:`${i.name} Parental Consent Signature`,className:"max-w-full h-20 sm:h-28 object-contain mx-auto"})})]})]},c))})]}),e.jsx("div",{className:"text-center pt-4",children:e.jsxs("p",{className:"text-slate-500 text-sm",children:["Registered on ",M(s.registeredAt)]})}),e.jsxs("div",{className:"border-t-2 border-slate-200 pt-6 space-y-3",children:[s.waiverPdfUrl&&e.jsxs("a",{href:s.waiverPdfUrl,target:"_blank",rel:"noopener noreferrer",className:"w-full flex items-center justify-center gap-2 px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[e.jsx(E,{className:"w-5 h-5"}),"Download Signed Waiver PDF"]}),e.jsxs("button",{onClick:()=>h(s.registrationId),className:`w-full flex items-center justify-center gap-2 px-6 py-3 rounded-lg transition-colors ${s.completed?"bg-slate-600 text-white hover:bg-slate-700":"bg-green-600 text-white hover:bg-green-700"}`,children:[e.jsx(I,{className:"w-5 h-5"}),s.completed?"Mark as Incomplete":"Mark as Complete"]}),e.jsxs("button",{onClick:()=>n(s.registrationId),className:"w-full flex items-center justify-center gap-2 px-6 py-3 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:[e.jsx(F,{className:"w-5 h-5"}),"Delete Registration"]})]})]})]})})}function ge({registration:s,onClose:o,onVerify:h}){const[n,x]=p.useState("");return e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-[60]",onClick:o,children:e.jsx("div",{className:"bg-white rounded-2xl shadow-2xl max-w-md w-full",onClick:i=>i.stopPropagation(),children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx("div",{className:"p-3 bg-blue-100 rounded-full",children:e.jsx(T,{className:"w-6 h-6 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-slate-900 font-semibold",children:"Verify Driver's License"}),e.jsxs("p",{className:"text-slate-600 text-sm",children:[s.firstName," ",s.lastName]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"initials",className:"block text-slate-700 mb-2",children:"Staff Initials *"}),e.jsx("input",{id:"initials",type:"text",value:n,onChange:i=>x(i.target.value.toUpperCase()),maxLength:4,placeholder:"e.g., JD",className:"w-full px-4 py-3 border-2 border-slate-200 rounded-lg focus:border-blue-500 focus:ring-4 focus:ring-blue-100 focus:outline-none transition-all duration-200 uppercase",autoFocus:!0}),e.jsx("p",{className:"text-slate-500 text-xs mt-1",children:"Enter your initials to confirm you've verified the physical driver's license on-site."})]}),e.jsxs("div",{className:"bg-blue-50 border-2 border-blue-200 rounded-lg p-4",children:[e.jsx("h4",{className:"text-slate-900 text-sm font-medium mb-2",children:"Verification Checklist"}),e.jsxs("ul",{className:"space-y-1 text-slate-700 text-sm",children:[e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-blue-600",children:"✓"}),e.jsx("span",{children:"Physical license card inspected"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-blue-600",children:"✓"}),e.jsx("span",{children:"License is valid and not expired"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-blue-600",children:"✓"}),e.jsx("span",{children:"G2 or above license class confirmed"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-blue-600",children:"✓"}),e.jsx("span",{children:"Photo and name match customer"})]})]})]}),e.jsxs("div",{className:"flex gap-3 pt-2",children:[e.jsx("button",{onClick:o,className:"flex-1 px-6 py-3 border-2 border-slate-300 text-slate-700 rounded-lg hover:bg-slate-50 transition-colors",children:"Cancel"}),e.jsx("button",{onClick:()=>{n.trim().length>=2&&h(s.registrationId,n.trim())},disabled:n.trim().length<2,className:"flex-1 px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:bg-slate-300 disabled:cursor-not-allowed transition-colors",children:"Verify License"})]})]})]})})})}function Ne({onLogout:s}){const{registrations:o,deleteRegistration:h,toggleComplete:n,addRegistration:x,verifyLicense:i}=xe(),[c,u]=p.useState(""),[t,m]=p.useState(null),[a,g]=p.useState("list"),[y,v]=p.useState(!1),[k,l]=p.useState(!1),b=o.filter(d=>{const f=c.toLowerCase();return d.firstName?.toLowerCase().includes(f)||d.lastName?.toLowerCase().includes(f)||d.email?.toLowerCase().includes(f)||d.car?.name?.toLowerCase().includes(f)||d.registrationId?.toLowerCase().includes(f)}),j=d=>{h(d)&&m(null)},N=d=>{const f=n(d);t?.registrationId===d&&f&&m(f)},r=(d,f)=>{const D=i(d,f);t?.registrationId===d&&D&&m(D),l(!1)};return e.jsxs("div",{className:"space-y-6",children:[e.jsx(ue,{registrations:o}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-4 sm:p-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-slate-900 mb-1",children:"Test Drive Registrations"}),e.jsxs("p",{className:"text-slate-600 text-sm",children:["Total registrations: ",e.jsx("span",{className:"font-semibold",children:o.length})]})]}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsxs("button",{onClick:()=>he(o),disabled:o.length===0,className:"flex items-center justify-center gap-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:bg-slate-300 disabled:cursor-not-allowed transition-colors text-sm flex-1 sm:flex-none",children:[e.jsx(E,{className:"w-4 h-4"}),e.jsx("span",{className:"hidden sm:inline",children:"Export CSV"}),e.jsx("span",{className:"sm:hidden",children:"Export"})]}),e.jsxs("button",{onClick:s,className:"flex items-center justify-center gap-2 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors text-sm flex-1 sm:flex-none",children:[e.jsx(se,{className:"w-4 h-4"}),"Logout"]})]})]}),e.jsx("div",{className:"mb-6",children:e.jsxs("div",{className:"relative",children:[e.jsx(ae,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),e.jsx("input",{type:"text",value:c,onChange:d=>u(d.target.value),placeholder:"Search by name, email, car, or ID...",className:"w-full pl-10 pr-4 py-3 border-2 border-slate-200 rounded-lg focus:border-blue-500 focus:outline-none transition-colors"})]})}),e.jsx("div",{className:"mb-6",children:e.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[e.jsxs("button",{onClick:()=>g("list"),className:`flex items-center gap-2 px-3 py-2 rounded-lg transition-colors text-sm ${a==="list"?"bg-blue-600 text-white hover:bg-blue-700":"bg-slate-200 text-slate-600 hover:bg-slate-300"}`,children:[e.jsx(Z,{className:"w-4 h-4"}),e.jsx("span",{className:"hidden sm:inline",children:"List View"}),e.jsx("span",{className:"sm:hidden",children:"List"})]}),e.jsxs("button",{onClick:()=>g("schedule"),className:`flex items-center gap-2 px-3 py-2 rounded-lg transition-colors text-sm ${a==="schedule"?"bg-blue-600 text-white hover:bg-blue-700":"bg-slate-200 text-slate-600 hover:bg-slate-300"}`,children:[e.jsx(K,{className:"w-4 h-4"}),e.jsx("span",{className:"hidden sm:inline",children:"Schedule View"}),e.jsx("span",{className:"sm:hidden",children:"Schedule"})]}),e.jsxs("button",{onClick:()=>g("editor"),className:`flex items-center gap-2 px-3 py-2 rounded-lg transition-colors text-sm ${a==="editor"?"bg-blue-600 text-white hover:bg-blue-700":"bg-slate-200 text-slate-600 hover:bg-slate-300"}`,children:[e.jsx(ie,{className:"w-4 h-4"}),e.jsx("span",{className:"hidden sm:inline",children:"Page Editor"}),e.jsx("span",{className:"sm:hidden",children:"Editor"})]}),e.jsxs("button",{onClick:()=>v(!0),className:"flex items-center gap-2 px-3 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors text-sm",children:[e.jsx(R,{className:"w-4 h-4"}),e.jsx("span",{className:"hidden sm:inline",children:"Add Registration"}),e.jsx("span",{className:"sm:hidden",children:"Add"})]})]})}),a==="list"&&e.jsx(pe,{registrations:b,onSelect:m,onDelete:j}),a==="schedule"&&e.jsx(oe,{registrations:o,onSelectBooking:m}),a==="editor"&&e.jsx(H,{})]}),t&&e.jsx(be,{registration:t,onClose:()=>m(null),onToggleComplete:N,onDelete:j,onVerifyLicense:()=>l(!0)}),y&&e.jsx(me,{onClose:()=>v(!1),onSave:x}),k&&t&&e.jsx(ge,{registration:t,onClose:()=>l(!1),onVerify:r})]})}export{Ne as AdminDashboard};
